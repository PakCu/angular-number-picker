!function(n){"use strict";var e=function(n){var e={min:0,max:100,step:1,timeout:600},t=function(n,e){for(var t in e)n[t]||(n[t]=e[t]);return n},a=function(n){var e=Number(n);return!isNaN(e)&&e==n},u=function(n){return Number(n)},i=function(n){if(!a(n))throw new Error("value ["+n+"] is not a valid number")},o=function(e){return e.touches&&e.touches.length>0?n.element(e.touches[0].target):n.element(e.target)},r=function(n){return o(n).attr("type")},c=function(n){for(var e in n){var t=n[e];n[e]=u(t)}},s=function(n,a){return{restrict:"E",scope:{value:"=",singular:"@",plural:"@",min:"@",max:"@",step:"@",change:"&"},link:function(u,s){var l=t({min:u.min,max:u.max,step:u.step},e);i(l.min),i(l.max),i(l.step),c(l),l.min>u.value&&(u.value=l.min),u.$watch("value",function(n){u.canDown=n>l.min,u.canUp=n<l.max});var p,f,m,v,d,g=function(n){var e=r(n);if("up"===e){if(u.value>=l.max)return;u.value+=l.step}else if("down"===e){if(u.value<=l.min)return;u.value-=l.step}},b=s.find("span");b.on("click",function(n){g(n),u.$apply(),u.change(),n.stopPropagation()}),b.on("touchstart",function(e){p||(p=!0,o(e).addClass("active"),v=(new Date).getTime(),f=n(function(){m=a(function(){g(e),u.change()},200)},l.timeout),e.preventDefault())}),b.on("touchend",function(e){d=(new Date).getTime(),m&&(a.cancel(m),m=void 0),f&&(n.cancel(f),f=void 0),d-v<l.timeout&&(g(e),u.$apply(),u.change()),o(e).removeClass("active"),e.stopPropagation(),p=!1}),u.$on("$destroy",function(){b.off("touchstart touchend click")})},template:'<div class="input-group"><span class="input-group-addon" type="down" ng-disabled="!canDown">&nbsp;&nbsp;-&nbsp;&nbsp;</span><label class="form-control">{{ value }} {{value === 1 ? singular : plural}}</label><span class="input-group-addon" type="up" ng-disabled="!canUp">&nbsp;&nbsp;+&nbsp;&nbsp;</span></div>'}},l="angularNumberPicker";return n.module(l,[]).directive("hNumber",["$timeout","$interval",s]),l};"object"==typeof exports?module.exports=e(require("angular")):"function"==typeof define&&define.amd?define(["angular"],e):e(n.angular)}(window);